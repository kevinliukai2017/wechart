package com.wechart.util;

import java.io.IOException;

import org.jeewx.api.core.exception.WexinReqException;
import org.jeewx.api.core.req.WeiXinReqService;

import com.wechart.req.baidu.GetAddressByLoc;

import net.sf.json.JSONObject;

public class HttpUtil {

	public static void main(String[] args) throws IOException, WexinReqException {
//		String ak = "1QBI59DwZntFw0DeSWYrcDuFZSGHvdo2";
//		String url = "http://api.map.baidu.com/geocoder/v2/?address=上海五角场万达广场&output=json&ak=" + ak;
//		// 1.地理编码服务，即根据地址来查经度纬度
//		String return_value = doGet(url);
//		//System.out.println(return_value);
//		// {"status":0,"result":{"location":{"lng":121.51996737545,"lat":31.308233584217},"precise":1,"confidence":80,"level":"\u5546\u52a1\u5927\u53a6"}}
////32.2055770000,120.0376230000
//		// 2.逆地理编码,即根据经度纬度来查地址
//		String url2 = "http://api.map.baidu.com/geocoder/v2/?ak=" + ak
//				+ "&location=32.2055770000,120.0376230000&output=json";
//		JSONObject jsonObj = JSONObject.parseObject(doGet(url2));
//		System.out.println(jsonObj.getJSONObject("result").getJSONObject("addressComponent").get("city").toString() + jsonObj.getJSONObject("result").getJSONObject("addressComponent").get("district").toString());
//	
		GetAddressByLoc test = new GetAddressByLoc();
		test.setAk("1QBI59DwZntFw0DeSWYrcDuFZSGHvdo2");
		test.setOutput("json");
		test.setLocation("32.2055770000,120.0376230000");
		JSONObject result = WeiXinReqService.getInstance().doWeinxinReqJson(test);
		System.out.println(result.getJSONObject("result").getJSONObject("addressComponent").get("city"));
	}
}
